<?xml version="1.0" encoding="ISO-8859-1" ?>
<mdscript name="Time_API" 
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" >

<!--
  MD side of the time api.
  This will mostly act as a wrapper on the lua functions, which have
  access to the real time (as opposed to game time).
-->
<cues>
  <!-- Register the main lua file. -->
  <cue name="Load_Lua_Files" instantiate="true">
    <conditions>
      <event_ui_triggered screen="'Lua_Loader'" control="'Ready'" />
    </conditions>
    <actions>
      <raise_lua_event name="'Lua_Loader.Load'"
                       param="'extensions.time_api.Time_API'"/>
    </actions>
  </cue>
  
  <!-- Register the python server. -->
  <cue name="Register_Pipe_Server" instantiate="true">
    <conditions>
      <event_cue_signalled cue="md.Pipe_Server_Host.Reloaded" />
    </conditions>
    <actions>
      <signal_cue_instantly
        cue="md.Pipe_Server_Host.Register_Module"
        param="'extensions/time_api/Time_API.py'"/>
    </actions>
  </cue>
  
</cues>
  
</mdscript>